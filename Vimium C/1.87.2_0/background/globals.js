"use strict";var a,n,f,o,g,v,r,l,Exclusions;n=chrome.i18n.getMessage,f=0|(navigator.appVersion.match(/\bChrom(?:e|ium)\/(\d+)/)||[0,998])[1],o=/\sEdg\//.test(navigator.appVersion),g=0,v="chrome",75===f&&matchMedia("(prefers-color-scheme)").matches&&(f=81),(function(){var e={},n=function(n){return n=n.replace(/\.(\/|js)/g,""),e[n]||(e[n]={})};window.define=function(t,a){var o=document.currentScript.src.split("/"),r=o[o.length-1].replace(".js",""),i=e[r]||(e[r]={});return a(n,i)}})(),r={r:function(e,n){for(var t in n)t in e||(e[t]=n[t]);return e},h:function(e){var n,t,a;for(n=[],a=e.keys();!(t=a.next()).done;)n.push(t.value);return n},w:function(){},b:/a?/,y:function(){return this.b.test("")},x:function(){return chrome.runtime.lastError},S:function(e){return e.length>1?"<escape>"===e?"esc":e.slice(1,-1):e},j:function(e,n,t){var a=t<e.length&&t>n?e.charCodeAt(t-1):0;return e.slice(n,t+=a>=55296&&a<56320?1:8205===a&&t>n+1?-1:0)},R:function(e,n,t){var a=n>0&&n<e.length?e.charCodeAt(n):0;return e.slice(n+=a>=56320&&a<=57343?-1:8205===a&&n<e.length-1&&n<t-1?1:0,t)},z:function(e){function n(e){var n=e.charCodeAt(0);return 38===n?"&amp;":39===n?"&apos;":n<39?"&quot;":60===n?"&lt;":"&gt;"}var t=/["&'<>]/g;return this.z=function(e){return e.replace(t,n)},this.z(e)},$:function(e){return 58===e.charCodeAt(10)&&"javascript"===e.slice(0,10).toLowerCase()},P:function(e){return(e=e.slice(0,99).toLowerCase()).startsWith("about:")?"about:blank"!==e&&1!==l.q.get(e):e.startsWith("chrome:")?!e.startsWith("chrome://downloads"):e.startsWith(v)&&!e.startsWith(l.E.C)||o&&/^(edge|extension):/.test(e)&&!e.startsWith("edge://downloads")},I:".\u4e2d\u4fe1.\u4e2d\u56fd.\u4e2d\u570b.\u4e2d\u6587\u7f51.\u4f01\u4e1a.\u4f5b\u5c71.\u4fe1\u606f.\u516c\u53f8.\u516c\u76ca.\u5546\u57ce.\u5546\u5e97.\u5546\u6807.\u5728\u7ebf.\u5a31\u4e50.\u5e7f\u4e1c.\u6211\u7231\u4f60.\u624b\u673a.\u62db\u8058.\u653f\u52a1.\u6e38\u620f.\u7f51\u5740.\u7f51\u5e97.\u7f51\u5e97.\u7f51\u7edc.\u8d2d\u7269.\u96c6\u56e2.\u9910\u5385.",U:["","",".ac.ad.ae.af.ag.ai.al.am.ao.aq.ar.as.at.au.aw.ax.az.ba.bb.bd.be.bf.bg.bh.bi.bj.bm.bn.bo.br.bs.bt.bv.bw.by.bz.ca.cc.cd.cf.cg.ch.ci.ck.cl.cm.cn.co.cr.cu.cv.cw.cx.cy.cz.de.dj.dk.dm.do.dz.ec.ee.eg.er.es.et.eu.fi.fj.fk.fm.fo.fr.ga.gb.gd.ge.gf.gg.gh.gi.gl.gm.gn.gp.gq.gr.gs.gt.gu.gw.gy.hk.hm.hn.hr.ht.hu.id.ie.il.im.in.io.iq.ir.is.it.je.jm.jo.jp.ke.kg.kh.ki.km.kn.kp.kr.kw.ky.kz.la.lb.lc.li.lk.lr.ls.lt.lu.lv.ly.ma.mc.md.me.mg.mh.mk.ml.mm.mn.mo.mp.mq.mr.ms.mt.mu.mv.mw.mx.my.mz.na.nc.ne.nf.ng.ni.nl.no.np.nr.nu.nz.om.pa.pe.pf.pg.ph.pk.pl.pm.pn.pr.ps.pt.pw.py.qa.re.ro.rs.ru.rw.sa.sb.sc.sd.se.sg.sh.si.sj.sk.sl.sm.sn.so.sr.st.su.sv.sx.sy.sz.tc.td.tf.tg.th.tj.tk.tl.tm.tn.to.tr.tt.tv.tw.tz.ua.ug.uk.us.uy.uz.va.vc.ve.vg.vi.vn.vu.wf.ws.ye.yt.za.zm.zw",".abc.art.bid.biz.cat.com.dev.edu.fit.fun.gov.icu.ink.int.kim.law.lol.ltd.men.mil.moe.mom.mtn.net.new.one.org.pro.pub.red.ren.run.tel.top.vip.win.xin.xxx.xyz",".aero.arpa.asia.auto.band.beer.chat.city.club.cool.coop.date.fans.fund.game.gift.gold.guru.help.host.info.jobs.life.link.live.loan.love.luxe.mobi.name.news.pics.plus.shop.show.site.sohu.team.tech.wang.wiki.work.yoga.zone",".citic.cloud.email.games.group.local.onion.party.photo.press.rocks.space.store.today.trade.video.world",".center.design.lawyer.market.museum.online.social.studio.travel",".company.fashion.science.website",".engineer.software"],L:function(){return Object.create(null)},T:function(e){return Object.setPrototypeOf(e,null)},M:new Map,A:/^([^:]+(:[^:]+)?@)?([^:]+|\[[^\]]+])(:\d{2,5})?$/,O:/\s+/g,F:/\xa0/g,D:/^[a-z][\+\-\.\da-z]+:\/\//,G:/^"[^"]*"$|^'[^']*'$|^\u201c[^\u201d]*\u201d$/,B:0,V:function(e,n,t){var a,i,s,c,u,l,m,h,p,g=r;return e=e.trim(),g.B=0,g.$(e)?(f<46&&e.includes("%")&&!/["\[\]{}\u00ff-\uffff]|%(?![\dA-F]{2}|[\da-f]{2})/.test(e)&&(e=g.K(e)),e=e.replace(g.F," "),g.y(),e):(a=-1,i=0,s=false,h='"'===(l=e.replace(/[\n\r]+[\t \xa0]*/g,"").replace(g.F," "))[0]&&l.endsWith('"'),p=l,e=l=h?l.slice(1,-1):l,/^[A-Za-z]:(?:[\\/][^:*?"<>|]*)?$|^\/(?:Users|home|root)\/[^:*?"<>|]+$/.test(e)?(":"===e[1]&&(e=e[0].toUpperCase()+":/"+e.slice(3).replace(/\\/g,"/")),g.y(),"file://"+("/"===e[0]?e:"/"+e)):e.startsWith("\\\\")&&e.length>3?((e=e.slice(2).replace(/\\/g,"/")).lastIndexOf("/")<=0&&(e+="/"),g.y(),"file://"+e):((c=(e=l.toLowerCase()).indexOf(" ")+1||e.indexOf("\t")+1)>1&&(e=e.slice(0,c-1)),0===(c=e.indexOf(":"))?a=4:-1!==c&&g.D.test(e)?e.startsWith("vimium:")?(a=3,t|=0,e=l.slice(9),t<-1||!e?l="vimium://"+e:-1===t||h||!(l=g.J(e,t))?l=g.Y(e,false,t):"string"!=typeof l&&(a=5)):(-1===(u=e.indexOf("/",c+3))?e.length<l.length:e.charCodeAt(u+1)<33)?a=4:/[^a-z]/.test(e.slice(0,c))?a=(c=e.charCodeAt(c+3))>32&&47!==c?0:4:e.startsWith("file:")?a=0:e.startsWith("chrome:")?a=e.length<l.length&&e.includes("/")?4:0:o&&e.startsWith("read:")?a=!/^read:\/\/([a-z]+)_([.\da-z\-]+)(?:_(\d+))?\/\?url=\1%3a%2f%2f\2(%3a\3)?(%2f|$)/.test(e)||e.length<l.length?4:0:e=e.slice(c+3,u>=0?u:void 0):(-1!==c&&e.lastIndexOf("/",c)<0&&(a=g.W(l.toLowerCase(),c,e.length%l.length)),i=2,u=l.length,-1===a&&e.startsWith("//")&&(e=e.slice(2),i=1,u-=2),-1!==a?"about:blank/"===e&&(l="about:blank"):(c=e.indexOf("/"))<=0?(0===c||e.length<u)&&(a=4):e.length>=u||e.charCodeAt(c+1)>32?(s=e.length>c+1,e=e.slice(0,c)):a=4),-1===a&&e.lastIndexOf("%")>=0&&(e=r.K(e)).includes("/")&&(a=4),-1===a&&e.startsWith(".")&&(e=e.slice(1)),-1!==a||((m=g.A.exec(e))?(e=m[3]).endsWith("]")?a=g.Q(e,6)?i:4:"localhost"===e||e.endsWith(".localhost")||g.Q(e,4)||m[4]&&s?a=i:(c=e.lastIndexOf("."))<0||0===(a=g.X(e.slice(c+1)))?(c<0&&"__proto__"===e&&(e="."+e),u=e.length-c-1,a=2!==i&&(c<0||u>=3&&u<=5)||g.Z(e,m[4])>0?i:4):a=/[^.\da-z\-]|^xn--|^-/.test(e)?(e.length===c+3||1!==a?!i:g.Z(e,m[4]))?i:4:2!==i||s?i:e.endsWith(".so")&&e.startsWith("lib")&&e.indexOf(".")===e.length-3?4:m[2]||m[4]||!m[1]||/^ftps?(\b|_)/.test(e)?2:e.startsWith("mail")||e.indexOf(".mail")>0||(u=e.indexOf("."))===c?4:e.indexOf(".",++u)!==c?2:e.length===c+3&&1===a&&g.X(e.slice(u,c),true)?4:2:(a=4,e.length===l.length&&g.Q(e="["+e+"]",6)&&(l=e,a=2))),g.y(),g.B=a,0===a?l.startsWith("extension://")?"chrome-"+l:l:4===a?g.ee(p.split(g.O),n||"~",t):a<=2?(2===g.Z(e,m&&m[4])?"https:":"http:")+(2===a?"//":"")+l:l))},Z:function(e,n){var t=n&&this.M.get(e+n)||this.M.get(e);return t?t.ne?2:1:0},W:function(e,n,t){var a=this,o="/"===e.substr(n+1,1);switch(e.slice(0,n)){case"about":return o?4:t>0||e.includes("@",n)?-1:0;case"blob":case"view-source":return(e=e.slice(n+1)).startsWith("blob:")||e.startsWith("view-source:")?4:(a.V(e,null,-2),a.B<=2?0:4);case"data":return o?4:(n=e.indexOf(",",n))<0||t>0&&t<n?-1:0;case"file":return 0;case"filesystem":return e=e.slice(n+1),a.D.test(e)?(a.V(e,null,-2),0===a.B&&/[^/]\/(?:persistent|temporary)(?:\/|$)/.test(e)?0:4):4;case"magnet":return"?"!==e[n+1]?-1:0;case"mailto":return o?4:(n=e.indexOf("/",n))>0&&e.lastIndexOf("?",n)<0?-1:0;case"tel":return/\d/.test(e)?0:4;default:return o?4:-1}},te:function(e){var n=e.startsWith("filesystem:")?11:e.startsWith("view-source:")?12:0;return n?e.slice(n):e},ae:function(e){var n,t,a=e.indexOf("\uff1a")+1||e.indexOf(":")+1;return a&&"/"!==e[a]?"link"!==(n=e.slice(0,a-1).trim().toLowerCase())&&"\u94fe\u63a5"!==n?e:(t=(t=e.slice(a).trim()).split(" ",1)[0],",.;\u3002\uff0c\uff1b".includes(t.slice(-1))&&(t=t.slice(0,-1)),t=this.V(t,null,-2),r.B<=2&&!t.startsWith("vimium:")?t:e):e},X:function(e,n){return!n&&/[^a-z]/.test(e)?this.I.includes("."+e+".")?2:0:e&&e.length<this.U.length&&this.U[e.length].includes(e)?1:0},oe:function(e){var n=e.toLowerCase().split("."),t=n.length;return[n,0===r.X(n[t-1])?1:t>2&&2===n[t-1].length&&1===r.X(n[t-2])?3:2]},Q:function(e,n){return!!(6!==n&&/^\d{1,3}(?:\.\d{1,3}){3}$/.test(e)||4!==n&&/^\[[\da-f]{0,4}(?::[\da-f]{0,4}){1,5}(?:(?::[\da-f]{0,4}){1,2}|:\d{0,3}(?:\.\d{0,3}){3})]$/.test(e))&&!!this.re("http://"+e)},re:function(e){try{return new URL(e)}catch(e){}return null},Y:function(e,n,t){var a,o,r="",i="",s=e.trim();if(!s)return n?"":location.origin+"/pages/";if((a=s.indexOf(" ")+1)&&(i=s.slice(a).trim(),s=s.slice(0,a-1)),(a=s.search(/[\/#?]/)+1)&&(r=s.slice(a-1).trim(),s=s.slice(0,a-1)),"display"===s&&(s="show"),!/\.\w+$/.test(s))if(s=s.toLowerCase(),null!=(o=l.E.ie[s]))o=s=o&&"/"!==o[0]&&"#"!==o[0]?o:l.E.se+(o.includes(".")?"/blob/master"+o:o);else{if("newtab"===s)return l.ce.newTabUrl_f;if("/"===s[0]||l.E.ue.indexOf(s)>=0)s+=".html";else{if(1===t||-1===t)return"vimium://"+e.trim();s="show.html#!url vimium://"+s}}return n||o&&o.includes("://")||(s=location.origin+("/"===s[0]?"":"/pages/")+s),r&&(s+=r),s+(i&&(s.includes("#")?" ":"#!")+i)},le:0,J:function(e,n,t){var o,i,s,c,u,l,m,h,p=r;if("paste"===e&&(e+=" ."),(n|=0)<0||!(e=e.trim())||(o=e.search(/\/| /))<=0||!/^[a-z][\da-z\-]*(?:\.[a-z][\da-z\-]*)*$/i.test(i=e.slice(0,o).toLowerCase())||/\.(?:css|html?|js)$/i.test(i))return null;if(!(e=e.slice(o+1).trim()))return null;if(l=/[\s+,\uff0b\uff0c]+/g,1===n)switch(i){case"sum":case"mul":e=e.replace(l,"sum"===i?" + ":" * "),i="e";break;case"avg":case"average":s=e.split(l),e="("+s.join(" + ")+") / "+s.length,i="e"}if(1===n)switch(i){case"e":case"exec":case"eval":case"expr":case"calc":case"m":case"math":return p.me("MathParser").catch(function(){return null}).then(function(MathParser){var n,t;for(r.G.test(e)&&(e=e.slice(1,-1)),n=/([\u2070-\u2079\xb2\xb3\xb9]+)|[\xb0\uff0b\u2212\xd7\xf7]|''?/g,e=(e=e.replace(/\uff0c/g," ")).replace(/deg\b/g,"\xb0").replace(/[\xb0']\s*\d+(\s*)(?=\)|$)/g,function(e,n){return(e=e.trim())+("'"===e[0]?"''":"'")+n}).replace(n,function(e,n){var t,a,o,r,i="";if(!n)return"\xb0"===e?"/180*PI+":(t="\uff0b\u2212\xd7\xf7".indexOf(e))>=0?"+-*/"[t]:"/"+("''"===e?3600:60)+"/180*PI+";for(a=0,o=e;a<o.length;a++)i+=(r=o[a])<"\xba"?r>"\xb3"?1:r<"\xb3"?2:3:r.charCodeAt(0)-8304;return i&&"**"+i}).replace(/\*PI\+(?!\s*\d)/g,"*PI").replace(/([\d.])rad\b/g,"$1"),t=[].reduce.call(e,function(e,n){return e+("("===n?1:")"===n?-1:0)},0);t-- >0;)e+=")";return[r.he(e,MathParser)||"",0,e]});case"error":return[e,3]}else if(n>=2)switch(i){case"status":case"state":return[e,4];case"url-copy":case"search-copy":case"search.copy":case"copy-url":if((u=p.V(e,null,1))instanceof Promise)return u.then(function(e){var n=e[0]||e[2]||"";return n=n instanceof Array?n.join(" "):n,[n=r.pe(n),1]});e=(u=5===p.B&&u instanceof Array?u[0]:u)instanceof Array?u.join(" "):u;case"cp":case"copy":case"clip":return[e=r.pe(e),1]}switch(i){case"cd":case"up":if(!(s=(e+"  ").split(" "))[2]||!a){if(n<1||!a)return null;if("string"!=typeof(u=a.fe()))return u.then(function(a){var o=a&&r.J("cd "+e+" "+(e.includes(" ")?a:". "+a),n,t);return o?"string"==typeof o?[o,6]:o:[a?"fail in parsing":"No current tab found",3]});s[2]=u}return m="/"===(i=s[0])[0],o=parseInt(i,10),o=isNaN(o)?"/"===i?1:m?i.replace(/(\.+)|./g,"$1").length+1:-i.replace(/\.(\.+)|./g,"$1").length||-1:o,(h=a.ge({u:s[2],p:o,t:null,f:1,a:"."!==s[1]?s[1]:""}))&&h.u||[h?h.e:"No upper path",3];case"parse":case"decode":(i=e.split(" ",1)[0]).search(/\/|%2f/i)<0?e=e.slice(i.length+1).trimLeft():i="~",s=[e=p.de(e)],e=p.V(e),4!==p.B&&(c=a.ge({u:e}))?""===c.u?s=[i]:(s=c.u.split(" ")).unshift(i):s=s[0].split(p.O);break;case"u":case"url":case"search":s=p.de(e).split(p.O);break;case"paste":if(n>0)return(u=r.we(e))instanceof Promise?u.then(function(e){return[e?e.trim().replace(r.O," "):"",5]}):[u?u.trim().replace(r.O," "):"",5];default:return null}return t?[s,2]:(o=p.le++)>12?null:12===o?p.ee(s,"",0):o>0?p.ee(s,"",n):(u=p.ee(s,"",n),p.le=0,u)},he:function(e,n){var t=null;if((n=n||window.MathParser||{}).evaluate){try{t="function"==typeof(t=n.evaluate(e))?null:""+t}catch(e){}n.clean(),n.errormsg&&(n.errormsg="")}return t},pe:function(){return""},we:function(){return""},be:null,me:function(e){var n=window[e];return n?Promise.resolve(n):window[e]=new Promise(function(n){var t=document.createElement("script");t.src=l.E[e],t.onload=function(){this.remove(),n(window[e])},document.documentElement.appendChild(t)})},_e:/\$([sS])(?:\{([^}]*)})?/g,ve:/\$([+-]?\d+)/g,ee:function(e,n,t){var a,o=r,i=l.ce.searchEngineMap.get(n||e[0]);return i?(n||(n=e.shift()),a=o.ke(e,i.ye,i.w)):a=e.join(" "),"~"!==n?o.V(a,null,t):(o.B=4,a)},ke:function(e,n,t,a){var o,i=r,s=0;return n=0===e.length&&t?t:n.replace(i._e,function(t,i,c,u){var l;return"S"===i?(l=e,i=" "):(l=o||(o=e.map(r.encodeAsciiComponent)),i=r.$(n)?"%20":"+"),0===l.length?"":(c=c&&c.includes("$")?c.replace(r.ve,function(e,n){var t=parseInt(n,10);if(!t)return l.join(i);if(t<0)t+=l.length+1;else if("+"===n[0])return l.slice(t-1).join(i);return l[t-1]||""}):l.join(null!=c?c:i),null!=a&&(a.push(u+=s,u+c.length),s+=c.length-t.length),c)}),i.y(),null==a?n:{ye:n,xe:a}},K:function(e,n){if(!e)return"";try{e=("atob"===n?atob:n?decodeURI:decodeURIComponent)(e)}catch(e){}return e},Se:function(e){var n=e.replace(/%25/g,"%2525").replace(/%(?![\da-zA-Z]{2})/g,"%25"),t=r.K(n,1);return(r.D.test(t=t.length!==n.length?t:e)||t.startsWith("data:")||t.startsWith("about:")||r.$(t))&&(t=t.trim().replace(/\s+/g,encodeURIComponent)),t},de:function(e){return e=!e.includes("://")&&/%(?:2[36f]|3[adf])/i.test(e)?r.K(e).trim():e,r.Se(e)},encodeAsciiURI:function(e){return encodeURI(e).replace(/%(?:[CD].%..|E.%..%..)/g,function(e){var n=decodeURIComponent(e);return(f<64||0?/[\u0391-\u03c9\u4e00-\u9fa5]/:new RegExp("[\\p{L}\\p{N}]","u")).test(n)?n:e})},encodeAsciiComponent:function(e){return e.replace(f<64||0?/[\x00-`{-\u0390\u03ca-\u4dff\u9fa6-\uffff\s]+/g:new RegExp("[^\\p{L}\\p{N}]+","ug"),encodeURIComponent)},je:function(e,n){var t,a,o=+e.includes("\u3002")+2*+e.includes("\uff1a");return o?(t=e.indexOf("//"),(t=e.indexOf("/",t>=0?t+2:0))>=0&&t<4?e:(a=t>0?e.slice(0,t):e,1&o&&(a=a.replace(/\u3002/g,".")),2&o&&(a=a.replace("\uff1a",":").replace("\uff1a",":")),t>0&&(a+=e.slice(t)),this.V(a,null,-2),this.B<3?a:1!==o||!n||/[^.\w\u3002-]/.test(e)?e:e.replace(/\u3002/g,"."))):e},Re:function(e){return/\.(?:avif|bmp|gif|icon?|jpe?g|a?png|tiff?|webp)$/i.test(e)?this.Y("show image "+e,false,0):e},ze:function(e){var n,t,a=e.indexOf(":"),o=a;if(a<=0)return e;if("://"===e.substr(a,3))if((a=e.indexOf("/",a+3))<0)a=o,o=-1;else if(7===a&&"file"===e.slice(0,4).toLowerCase())return"file:///"+((a=":"===e.substr(9,1)?3:0)?e[8].toUpperCase()+":/":"")+e.slice(a+8);return t=(n=e.slice(0,a)).toLowerCase(),-1===o&&/^(file|ftp|https?|rt[ms]p|wss?)$/.test(n)&&(e+="/"),n!==t?t+e.slice(a):e},$e:function(e,n){var t,a,o,r,i,s,c,u,l,m,h,p,f,g=this,d=[],w=/\s/,b=g._e,_=function(e){return!!((e=e.trim())&&"__proto__"!==e&&e.length<51)&&(n.set(e,i),true)};for(c=0,u=e.replace(/\\\\?\n/g,function(e){return 3===e.length?"\\\n":""}).split("\n");c<u.length;c++)if((l=(l=u[c]).trim())&&l.charCodeAt(0)>35){s=0;do{s=l.indexOf(":",s+1)}while(92===l.charCodeAt(s-1));s<=0||!(r=l.slice(0,s).trimRight())||(t=r.replace(/\\:/g,":").split("|"),(l=l.slice(s+1).trimLeft())&&(m="",(s=(r=l.replace(/\\\s/g,"\\s")).search(w))>0?(e=l.slice(s),l=r.slice(0,s),(s=e.search(/\sblank=/i))>=0&&(h=e.slice(s+7).search(w),m=e.slice(s+7,(h=h>0?s+7+h:0)||void 0),e=e.slice(0,s)+(h?e.slice(h):"")),s=e.search(/\sre=/i)):(l=r,e=""),l=l.replace(/\\s/g," ").trim().replace(/([^\\]|^)%(s)/gi,"$1$$$2").replace(/\\%/g,"%"),i={Pe:"",w:m,ye:l},0!==(t=t.filter(_)).length&&(-1===s?(b.lastIndex=0,(p=b.exec(l))&&(s=p.index+1)&&((r=p[2])?l=l.replace(b,"$$$1"):r="s"===p[1]?"+":" ",l=g.V(l,null,-1),g.B>2?s=(l=l.replace(/%24(s)/gi,"$$$1")).search(b)+1:0!==g.B&&(s+=2===g.B?7:5),(a=g.qe(l.toLowerCase(),s))&&(r.includes("$")?(r=r.replace(g.ve,"(.*)"),o=new RegExp("^"+r,/[a-z]/i.test(r)?"i":"")):o=r.trim()||" ",d.push({Ce:a.Ce,Ee:a.Ee,Pe:t[0].trimRight(),Ie:o})))):47===e.charCodeAt(s+4)?(r=s>1?e.slice(1,s).trim():"",s=(e=e.slice(s+5)).search(/[^\\]\//)+1,l=e.slice(0,s),s=(e=e.slice(s+1)).search(w),(f=g.Ue(l,s>=0?e.slice(0,s):e))&&(r=g.Le(r),d.push({Ce:r,Ee:f,Pe:t[0].trimRight(),Ie:i.ye.lastIndexOf("$S")>=0?" ":"+"})),e=s>=0?e.slice(s+1):""):e=e.slice(s+4),e=e.trimLeft(),i.Pe=e?g.K(e):t[t.length-1].trimLeft())))}return d},qe:function(e,n){var t,a,o,r;return n<1||!this.D.test(e)?null:(t=e.slice(0,n-1),(n=Math.max(t.lastIndexOf("?"),t.lastIndexOf("#"))+1)?(o=a=t.slice(n),t=t.slice(0,t.search(/[#?]/)),(r=a.lastIndexOf("&")+1)&&(o=a.slice(r)),o&&o.indexOf("=")>=1?(a="[#&?]",e="([^#&]*)"):(o=a,a="#"===e[n-1]?"#":o?"[#?]":"\\?",e="([^#&?]*)")):(a="^([^#?]*)",(o=e.slice(t.length+2))&&(n=o.search(/[#?]/)+1)&&(o=o.slice(0,n-1)),e=""),o=o&&o.replace(/[$()*+.?\[\\\]\^{|}]/g,"\\$&").replace(/\\\+|%20| /g,"(?:\\+|%20| )"),{Ce:t=this.Le(t),Ee:new RegExp(a+o+e,/[a-z]/i.test(o)?"i":"")})},Te:function(e){return(e=e.slice(0,8).toLowerCase()).startsWith("http://")?7:"https://"===e?8:0},Le:function(e){var n=e.slice(0,9).toLowerCase();return this.Te(n)?e=e.slice(58===e.charCodeAt(4)?7:8):"vimium://"===n&&(e=this.Y(e.slice(9),false,-1)),e},Ue:function(e,n,t){try{return new RegExp(e,n)}catch(a){0===t||console.log("%c/%s/%s","color:#c41a16",e,n,"is not a valid regexp.")}return null},Me:/<(?!<)(?:.-){0,4}.\w*?(?::i)?>|./g,Ne:function(){return null},Ae:function(e,n){setTimeout(n,e)},Oe:0,Fe:function(){}},l={ce:r.L(),He:{De:localStorage.length<=0,Ge:null,Be:null,Ve:0,Ke:0,Je:null,Ye:null,We:null,Qe:false,Xe:null},Ze:{v:f,d:"",m:false,g:false,o:2},en:{v:f,o:2,a:0,n:0,t:0,l:"",s:"",c:"",k:null},nn:null,q:new Map,tn:null,an:localStorage,on:function(e,n){var t,a,o;return e in this.ce?this.ce[e]:(t=this.rn[e],o=null==(a=this.an.getItem(e))?t:"string"==typeof t?a:false===t||true===t?"true"===a:JSON.parse(a),n&&(this.ce[e]=o),o)},in:function(e,n){var t,a,o=this;if(o.ce[e]=n,e in o.sn||(n===(t=o.rn[e])?(o.an.removeItem(e),o.cn(e,null)):(o.an.setItem(e,"string"==typeof t?n:JSON.stringify(n)),o.cn(e,n)),e in o.un&&o.ln(o.un[e],n,o.Ze)),a=o.mn[e])return a.call(o,n,e)},hn:function(e,n){return l.mn[e].call(this,void 0!==n?n:l.on(e),e)},pn:function(e){if(6!==e.N)l.fn(e);else if(null==e.d.length)l.fn(e);else{var n=e.d,t=l.He.Je;t?n=n.concat(t):Promise.resolve(e).then(l.fn),l.He.Je=n,e.d=null}},fn:function(e){var n,t,o,r,i,s,c,u,m;if(6===e.N&&!e.d){for(n=l.He.Je,t=e.d={},o=0,r=n;o<r.length;o++)t[i=r[o]]=l.Ze[i];l.He.Je=null}for(c in s=a.gn())for(m=(u=s[+c]).length;0<--m;)u[m].postMessage(e)},dn:function(e){var n,t;for(n=0,t=a.gn(-3);n<t.length;n++)t[n].postMessage(e)},ln:function(e,n,t){switch(e){case"c":case"n":n=n.toLowerCase().toUpperCase();break;case"i":n=n===!!n?n:n>1||n>0&&!l.Ze.o;break;case"d":n=n?" D":""}return t?t[e]=n:n},wn:r.w,bn:r.w,mn:{__proto__:null,extAllowList:function(e){var n,t,a,o=l.tn,r=o||(l.tn=new Map);if(o&&r.forEach(function(e,n){false!==e&&r.delete(n)}),e)for(t=(n=e.split("\n")).length,a=/^[\da-z_]/i;0<=--t;)(e=n[t].trim())&&a.test(e)&&r.set(e,true)},grabBackFocus:function(e){l.Ze.g=e},newTabUrl:function(e){e=/^\/?pages\/[a-z]+.html\b/i.test(e)?chrome.runtime.getURL(e):r.V(e),l.in("newTabUrl_f",e)},searchEngines:function(){var e,n=l,t=n.ce.searchEngineMap;return t.clear(),"searchKeywords"in n.ce&&n.in("searchKeywords",null),e=r.$e("~:"+n.on("searchUrl")+"\n"+n.on("searchEngines"),t),n.in("searchEngineRules",e)},searchUrl:function(e){var n=l.ce,t=n.searchEngineMap;if(e)r.$e("~:"+e,t);else if(t.clear(),t.set("~",{Pe:"~",w:"",ye:l.on("searchUrl").split(" ",1)[0]}),n.searchEngineRules=[],l.on("newTabUrl_f",true))return;return l.hn("newTabUrl")},mapModifier:function(e){l.dn({N:47,d:{a:e}})},vomnibarPage:function(e){var n=l,t=n.an.getItem("vomnibarPage_f");!t||e?((e=e||n.on("vomnibarPage"))===n.rn.vomnibarPage?e=n.E._n:e.startsWith("front/")?e=chrome.runtime.getURL(e):(e=r.V(e),e=r.ze(e),e=f<50&&!e.startsWith(v)?n.E._n:e.replace(":version",""+parseFloat(n.E.vn))),n.in("vomnibarPage_f",e)):n.ce.vomnibarPage_f=t},vomnibarOptions:function(e){var n,t,a,o,r,i,s=l,c=s.rn.vomnibarOptions,u=s.en,m=true,h=c.actions,p=c.maxMatches,f=c.queryInterval,g=c.styles,d=c.sizes;e!==c&&e&&"object"==typeof e&&(n=Math.max(3,Math.min(0|e.maxMatches||p,25)),t=((e.actions||"")+"").trim(),a=+e.queryInterval,o=((e.sizes||"")+"").trim(),r=((e.styles||"")+"").trim(),i=Math.max(0,Math.min(a>=0?a:f,1200)),(m=p===n&&f===i&&o===d&&h===t&&g===r)||(p=n,f=i,d=o,g=r),e.actions=t,e.maxMatches=n,e.queryInterval=i,e.sizes=o,e.styles=r),s.ce.vomnibarOptions=m?c:e,u.n=p,u.t=f,u.l=d,u.s=g,s.wn(0,1),s.wn(1,1),s.dn({N:47,d:{n:p,t:f,l:d,s:u.s}})}},kn:null,yn:function(e,n){var t,a=this.E[e];a="/front/"+a,f>=47?fetch(a).then(function(e){return e.text()}).then(n):((t=new XMLHttpRequest).open("GET",a,true),t.responseType="text",t.onload=function(){n(this.responseText)},t.send())},rn:{__proto__:null,autoDarkMode:true,autoReduceMotion:false,clipSub:"p@^https://item.m.jd.com/product/(\\d+).html\\b@https://item.jd.com/$1.html@",dialogMode:false,exclusionListenHash:true,exclusionOnlyFirstMatch:false,exclusionRules:[{pattern:":https://mail.google.com/",passKeys:""}],extAllowList:"# modified versions of X New Tab and PDF Viewer,\n# NewTab Adapter, and Shortcuts Forwarding Tool\nhdnehngglnbnehkfcidabjckinphnief\nnacjakoppgmdcpemlfnfegmlhipddanj\ncglpcedifkgalfdklahhcchnjepcckfn\nclnalilglegcjmlgenoppklmfppddien",filterLinkHints:false,findModeRawQueryList:"",focusNewTabContent:true,grabBackFocus:false,hideHud:false,ignoreCapsLock:0,ignoreKeyboardLayout:false,innerCSS:"",keyboard:[560,33],keyMappings:"",linkHintCharacters:"sadjklewcmpgh",linkHintNumbers:"0123456789",localeEncoding:"gbk",mapModifier:0,mouseReachable:true,newTabUrl:"",newTabUrl_f:"",nextPatterns:"\u4e0b\u4e00\u5c01,\u4e0b\u9875,\u4e0b\u4e00\u9875,\u4e0b\u4e00\u7ae0,\u540e\u4e00\u9875,next,more,newer,>,\u203a,\u2192,\xbb,\u226b,>>",omniBlockList:"",previousPatterns:"\u4e0a\u4e00\u5c01,\u4e0a\u9875,\u4e0a\u4e00\u9875,\u4e0a\u4e00\u7ae0,\u524d\u4e00\u9875,prev,previous,back,older,<,\u2039,\u2190,\xab,\u226a,<<",regexFindMode:false,scrollStepSize:100,searchUrl:navigator.language.startsWith("zh")?"https://www.baidu.com/s?ie=utf-8&wd=%s \u767e\u5ea6":"https://www.google.com/search?q=%s Google",searchEngines:navigator.language.startsWith("zh")?"b|ba|baidu|Baidu|\u767e\u5ea6: https://www.baidu.com/s?ie=utf-8&wd=%s \\\n  blank=https://www.baidu.com/ \u767e\u5ea6\nbi:\xa0https://cn.bing.com/search?q=$s\nbi|bing|Bing|\u5fc5\u5e94: https://www.bing.com/search?q=%s \\\n  blank=https://cn.bing.com/ \u5fc5\u5e94\ng|go|gg|google|Google|\u8c37\u6b4c: https://www.google.com/search?q=%s\\\n\xa0\xa0www.google.com\xa0re=/^(?:\\.[a-z]{2,4})?\\/search\\b.*?[#&?]q=([^#&]*)/i\\\n\xa0\xa0blank=https://www.google.com/\xa0Google\nd|ddg|duckduckgo: https://duckduckgo.com/?q=%s DuckDuckGo\nqw|qwant: https://www.qwant.com/?q=%s Qwant\n\nb.m|bm|map|b.map|bmap|\u5730\u56fe|\u767e\u5ea6\u5730\u56fe: \\\n  https://api.map.baidu.com/geocoder?output=html&address=%s&src=vimium-c\\\n  blank=https://map.baidu.com/\ngd|gaode|\u9ad8\u5fb7\u5730\u56fe: https://www.gaode.com/search?query=%s \\\n  blank=https://www.gaode.com\ng.m|gm|g.map|gmap: https://www.google.com/maps?q=%s \\\n  blank=https://www.google.com/maps \u8c37\u6b4c\u5730\u56fe\nbili|bilibili|bz|Bili: https://search.bilibili.com/all?keyword=%s \\\n  blank=https://www.bilibili.com/ \u54d4\u54e9\u54d4\u54e9\ny|yt: https://www.youtube.com/results?search_query=%s \\\n  blank=https://www.youtube.com/ YouTube\n\nw|wiki: https://www.wikipedia.org/w/index.php?search=%s Wikipedia\nb.x|b.xs|bx|bxs|bxueshu: https://xueshu.baidu.com/s?ie=utf-8&wd=%s \\\n  blank=https://xueshu.baidu.com/ \u767e\u5ea6\u5b66\u672f\ngs|g.s|gscholar|g.x|gx|gxs:\xa0https://scholar.google.com/scholar?q=$s\xa0\\\n\xa0\xa0scholar.google.com\xa0re=/^(?:\\.[a-z]{2,4})?\\/scholar\\b.*?[#&?]q=([^#&]*)/i\\\n  blank=https://scholar.google.com/ \u8c37\u6b4c\u5b66\u672f\n\nt|tb|taobao|ali|\u6dd8\u5b9d: https://s.taobao.com/search?ie=utf8&q=%s \\\n  blank=https://www.taobao.com/ \u6dd8\u5b9d\nj|jd|jingdong|\u4eac\u4e1c: https://search.jd.com/Search?enc=utf-8&keyword=%s\\\n  blank=https://jd.com/ \u4eac\u4e1c\naz|amazon: https://www.amazon.com/s/?field-keywords=%s \\\n  blank=https://www.amazon.com/ \u4e9a\u9a6c\u900a\n\nv.m|v\\:math: vimium://math\\ $S re= \u8ba1\u7b97\u5668\ngh|github:\xa0https://github.com/search?q=$s\xa0\\\n  blank=https://github.com/ GitHub\xa0\u4ed3\u5e93\nge|gitee:\xa0https://search.gitee.com/?type=repository&q=$s\xa0\\\n  blank=https://gitee.com/ Gitee\xa0\u4ed3\u5e93\njs\\:|Js: javascript:\\ $S; JavaScript":"bi:\xa0https://cn.bing.com/search?q=$s\nbi|bing: https://www.bing.com/search?q=%s \\\n  blank=https://www.bing.com/ Bing\nb|ba|baidu|\u767e\u5ea6: https://www.baidu.com/s?ie=utf-8&wd=%s \\\n  blank=https://www.baidu.com/ \u767e\u5ea6\ng|go|gg|google|Google: https://www.google.com/search?q=%s \\\n\xa0\xa0www.google.com\xa0re=/^(?:\\.[a-z]{2,4})?\\/search\\b.*?[#&?]q=([^#&]*)/i\\\n\xa0\xa0blank=https://www.google.com/\xa0Google\nd|ddg|duckduckgo: https://duckduckgo.com/?q=%s DuckDuckGo\nqw|qwant: https://www.qwant.com/?q=%s Qwant\n\ng.m|gm|g.map|gmap: https://www.google.com/maps?q=%s \\\n  blank=https://www.google.com/maps Google Maps\nb.m|bm|map|b.map|bmap|\u767e\u5ea6\u5730\u56fe: \\\n  https://api.map.baidu.com/geocoder?output=html&address=%s&src=vimium-c\ny|yt: https://www.youtube.com/results?search_query=%s \\\n  blank=https://www.youtube.com/ YouTube\nw|wiki: https://www.wikipedia.org/w/index.php?search=%s Wikipedia\ng.s|gs|gscholar:\xa0https://scholar.google.com/scholar?q=$s\xa0\\\n\xa0\xa0scholar.google.com\xa0re=/^(?:\\.[a-z]{2,4})?\\/scholar\\b.*?[#&?]q=([^#&]*)/i\\\n  blank=https://scholar.google.com/ Google Scholar\n\na|ae|ali|alie|aliexp: https://www.aliexpress.com/wholesale?SearchText=%s \\\n  blank=https://www.aliexpress.com/ AliExpress\nj|jd|jb|joy|joybuy: https://www.joybuy.com/search?keywords=%s \\\n  blank=https://www.joybuy.com/ Joybuy\naz|amazon: https://www.amazon.com/s/?field-keywords=%s \\\n  blank=https://www.amazon.com/ Amazon\n\nv.m|v\\:math: vimium://math\\ $S re= Calculate\ngh|github:\xa0https://github.com/search?q=$s \\\n  blank=https://github.com/\xa0GitHub\xa0Repo\nge|gitee:\xa0https://search.gitee.com/?type=repository&q=$s\xa0\\\n  blank=https://gitee.com/ Gitee\xa0\u4ed3\u5e93\njs\\:|Js: javascript:\\ $S; JavaScript",showActionIcon:true,showAdvancedCommands:true,showAdvancedOptions:true,showInIncognito:false,notifyUpdate:true,smoothScroll:true,vomnibarOptions:{maxMatches:10,queryInterval:333,sizes:"77,3,44",styles:"mono-url",actions:""},userDefinedCss:"",vimSync:null,vomnibarPage:"front/vomnibar.html",vomnibarPage_f:"",waitForEnter:true},xn:{__proto__:null,extWhiteList:"extAllowList",phraseBlacklist:"omniBlockList"},sn:{__proto__:null,helpDialog:1,searchEngineMap:1,searchEngineRules:1,searchKeywords:1},Sn:["showAdvancedCommands"],jn:["icons/enabled.bin","icons/partial.bin","icons/disabled.bin"],un:{__proto__:null,filterLinkHints:"f",ignoreCapsLock:"i",ignoreKeyboardLayout:"l",mapModifier:"a",mouseReachable:"e",keyboard:"k",linkHintCharacters:"c",linkHintNumbers:"n",regexFindMode:"r",smoothScroll:"s",scrollStepSize:"t",waitForEnter:"w"},cn:r.w,Rn:null,E:{zn:true,$n:0,C:o?"https://www.msn.cn/spartan/ntp":"chrome-search://local-ntp/local-ntp.html",Pn:"pages/blank.html",qn:false,Cn:null,vn:"",En:"",GitVer:"64b14e1",In:"/lib/injector.js",ue:["blank","newtab","options","show"],MathParser:"/lib/math_parser.js",HelpDialog:"/background/help_dialog.js",KeyMappings:"/background/key_mappings.js",Un:"content/injected_end.js",Ln:"",Tn:false,Mn:true,Nn:"pages/options.html",An:"browser",baseCSS:"vimium-c.css",helpDialog:"help_dialog.html",words:"words.txt",On:"",se:"https://github.com/gdh1995/vimium-c",ie:{about:"",changelog:"/RELEASE-NOTES.md",help:"/wiki",home:"",license:"/LICENSE.txt",permissions:"/PRIVACY-POLICY.md#permissions-required",policy:"/PRIVACY-POLICY.md",popup:"options.html",privacy:"/PRIVACY-POLICY.md#privacy-policy",readme:"#readme",release:"/RELEASE-NOTES.md","release-notes":"/RELEASE-NOTES.md",settings:"options.html",wiki:"/wiki",__proto__:null},Fn:null,Hn:"pages/show.html",_n:"",Dn:"/front/vomnibar.js",Gn:""}},chrome.runtime.getPlatformInfo(function(e){var n=e.os.toLowerCase(),t=chrome.runtime.PlatformOs||{MAC:"mac",WIN:"win"},o=n===t.WIN?2:n===t.MAC?0:1,r=l.on("ignoreCapsLock");l.E.An=n,l.en.o=l.Ze.o=o,l.ln("i",r,l.Ze),l.He.Ve|=1,a&&a.Bn()}),(function(){function e(e){return(47===e.charCodeAt(0)?i:e.startsWith(s)?"":s)+e}var n,t,a,r=chrome.runtime.getManifest(),i=location.origin,s=i+"/",c=r.content_scripts[0].js,u=l,m=u.E,h=u.rn,p=u.un,f=u.Ze,g=u.q;for(n in h.newTabUrl=o?"edge://newtab":"chrome://newtab",g.set("about:newtab",1),g.set("about:newtab/",1),g.set("chrome://newtab",1),g.set("chrome://newtab/",1),o&&(g.set("edge://newtab",1),g.set("edge://newtab/",1)),g.set("chrome://new-tab-page",1),g.set("chrome://new-tab-page/",1),u.ce.searchEngineMap=new Map,m.Fn=Object.keys(r.commands||{}).map(function(e){return"quickNext"===e?"nextTab":e}),m.vn=r.version,m.En=r.version_name||r.version,m.Nn=e(r.options_page||m.Nn),m.zn=null!=r.permissions&&r.permissions.indexOf("clipboardRead")>=0,m.Hn=e(m.Hn),m._n=e(h.vomnibarPage),m.Gn=e(m.Dn),m.se=r.homepage_url||m.se,m.ie.release+="#"+m.vn.replace(/\D/g,""),m.In=e(m.In),c.push(m.Un),m.Cn=c.map(e),f.g=u.on("grabBackFocus"),p)u.ln(p[n],u.on(n),f);for(t in u.xn)null!=(a=u.an.getItem(t))&&(u.in(u.xn[t],a),u.an.removeItem(t))})(),Exclusions={Vn:null,Kn:function(e,n){var t,a,o=this.Vn.get(e);return n=n&&n.replace(/<(\S+)>/g,"$1"),o?{t:o.t,v:o.v,k:n}:("^"===e[0]&&((t=r.Ue(e.startsWith("^$|")?e.slice(3):e,"",0))||console.log("Failed in creating an RegExp from %o",e)),a=t?{t:0,v:t,k:n}:{t:1,v:e.startsWith(":vimium://")?r.Y(e.slice(10),false,-1):e.slice(1),k:n},this.Vn.set(e,a),a)},Jn:false,Yn:false,Wn:l.on("exclusionOnlyFirstMatch"),Qn:[],Xn:function(e){if(0===e.length)return this.Qn=[],a.Zn=r.Ne,void this.et();this.Vn||(this.Vn=new Map),this.Qn=e.map(this.nt),this.Vn=null,a.Zn=this.tt,this.et()},tt:function(e,n){var t,o,i,s,c,u="";for(t=0,o=Exclusions.Qn;t<o.length;t++)if(1===(i=o[t]).t?e.startsWith(i.v):i.v.test(e)){if(0===(s=i.k).length||Exclusions.Wn||"^"===s[0]&&s.length>2)return s;u+=s}return!u&&n.i&&e.lastIndexOf("://",5)<0&&!r.D.test(e)&&(c=a.gn(n.t,0))?a.Zn(c.s.u,c.s):u||null},at:function(){var e=chrome.webNavigation?function(e){a.ot[8](e)}:null;return this.at=function(){return e},e},nt:function(e){return Exclusions.Kn(e.pattern,e.passKeys)},rt:function(){var e,n,t,a,o,i=r.L(),s=0;for(e=0,n=this.Qn;e<n.length;e++)if(t=n[e].k){if("^"===t[0]&&t.length>2)return true;for(a=0,o=t.split(" ");a<o.length;a++)i[o[a]]=1,s++}return s?i:null},it:function(e,n,t){var a,o=this.Qn;return this.Qn=t.map(this.nt),a=this.tt(e,n),this.Qn=o,a},st:function(e){var n,t,o,r,i,s,c,u,m,h=Exclusions.Qn.length>0?null:{N:1,p:null,f:0};if(e)h||l.pn({N:3,H:8});else for(i in n=a.gn(),t=!!l.He.Ye&&(l.He.Ye()||l.on("showActionIcon")),o=null,r=0,n){for(c=(s=n[+i])[0].s.s,u=s.length;0<--u;){if(m=s[u],h){if(0===m.s.s)continue}else if(r=null===(o=a.Zn(m.s.u,m.s))?0:o?1:2,!o&&m.s.s===r)continue;1&m.s.f||(m.postMessage(h||{N:1,p:o,f:0}),m.s.s=r)}t&&c!==(r=s[0].s.s)&&a.ct(+i,r)}},et:function(){var e,n=Exclusions,t=n.Qn.length>0,a=n.at(),o=t&&l.on("exclusionListenHash");a&&(n.Jn!==t&&(n.Jn=t,e=chrome.webNavigation.onHistoryStateUpdated,t?e.addListener(a):e.removeListener(a)),n.Yn!==o&&(n.Yn=o,e=chrome.webNavigation.onReferenceFragmentUpdated,o?e.addListener(a):e.removeListener(a)))}},l.mn.exclusionRules=function(e){var n=!Exclusions.Qn.length,t=c.ut;Exclusions.Xn(e),r.Fe(),setTimeout(function(){setTimeout(Exclusions.st,10,n),c.ut===t&&r.me("KeyMappings").then(function(){return l.hn("keyMappings",null)})},1)},l.mn.exclusionOnlyFirstMatch=function(e){Exclusions.Wn=e},l.mn.exclusionListenHash=Exclusions.et;