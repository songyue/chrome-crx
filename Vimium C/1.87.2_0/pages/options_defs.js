"use strict";var T,E,B,M,V,F,z,A,U,D,G,H,L;S.Uu=Object.create(null),S.Po=[],S.prototype.yo=function(t){t.call(this),window.VApi&&N.ln(N.un[this.fo],this.zo(),VApi.z)},S.u=function(){var t,n,i=S.Uu,e=[];for(t in i)(n=i[t]).wo||n.Lo(n.ho,N.on(n.fo))||e.push(n.fo);if(e.length>0&&!confirm(s("dirtyOptions",[e.join("\n  * ")])))return false;for(t in i)if(!(n=i[t]).wo&&!n._o())return false;for(t in i.vimSync.wo||i.vimSync.Jo(),i.exclusionRules.wo||i.exclusionRules.Jo(),i)i[t].wo||i[t].Jo();return true},S.ts=function(){var t,n=S.Uu;for(t in n)if(!n[t].wo)return true;return false},S.prototype.Lo=function(t,n){return t===n},T=(function(t){function n(i,s){var e,r,o=t.call(this,i,s)||this;return o.No={min:(e=i.min)&&!isNaN(r=parseFloat(e))?r:null,max:(e=i.max)&&!isNaN(r=parseFloat(e))?r:null,default:N.rn[o.fo],So:n.ns},o.p.oninput=o.vo,o.p.onfocus=o.is.bind(o),o.p.setAttribute("autocomplete","off"),o}return y(n,t),n.prototype.bo=function(t){this.p.value=""+t},n.prototype.zo=function(){return parseFloat(this.p.value)},n.prototype.is=function(){var t=this,n=this.p,i=function(n){return t.ss(n)},s=function(){n.removeEventListener("wheel",i,{passive:false}),n.removeEventListener("blur",s),t.es=0};this.es=0,n.addEventListener("wheel",i,{passive:false}),n.addEventListener("blur",s)},n.prototype.ss=function(t){var n,i,s,e,r,o,u,h;if(t.preventDefault(),n=this.es,!((i=Date.now())-n<100&&i+99>n&&n))return this.es=i,r=(s=this.p).value,"function"==typeof(u=(e=(t.deltaY||t.deltaX)>0)?s.stepUp:s.stepDown)?(u.call(s),o=s.value,s.value=r):(h=(u=parseFloat)(s.step)||1,i=(+s.value||0)+(e?h:-h),isNaN(h=u(s.max))||(i=Math.min(i,h)),isNaN(h=u(s.min))||(i=Math.max(i,h)),o=""+i),this.rs(o,n>0,false)},n.ns=function(t){return isNaN(t)&&(t=this.default),t=null!=this.min?Math.max(this.min,t):t,null!=this.max?Math.min(this.max,t):t},n})(S),E=(function(t){function n(i,s){var e=t.call(this,i,s)||this,r=i.dataset.map;return e.os=r?JSON.parse(r):e.p.dataset.allowNull?n.us:n.hs,e.fs=e.os.length-1,e.fs>1&&"vimSync"!==e.fo&&e.p.addEventListener("change",e.onTripleStatusesClicked.bind(e),true),e.p.onchange=e.vo,e}return y(n,t),n.prototype.bo=function(t){this.p.checked=t===this.os[this.fs],this.p.indeterminate=this.fs>1&&t===this.os[1],this.as=Math.max(0,this.os.indexOf(t))},n.prototype.zo=function(){return this.p.indeterminate?this.os[1]:this.os[this.p.checked?this.fs:0]},n.prototype.onTripleStatusesClicked=function(t){t.preventDefault();var n=this.as;this.as=2===n?1:n?0:2,this.p.indeterminate=2===n,this.p.checked=2===this.as},n.hs=[false,true],n.us=[false,null,true],n})(S),B=(function(t){function n(i,s){var e=t.call(this,i,s)||this,r=e.p.dataset.converter||"",o=r?r.split(" "):[];return e.p.oninput=e.vo,o.length>0&&(e.No={cs:o,si:0,So:n.ls}),e.p.setAttribute("autocomplete","off"),e}return y(n,t),n.prototype.ko=function(){t.prototype.ko.call(this);var n=this.No;n&&(n.si=0,n.si=n.So(this.ho)===this.ho?1:0)},n.prototype.bo=function(t,n){var i=t.replace(/ /g,"\xa0");true!==n?this.p.value=i:this.rs(i,true,true)},n.prototype._s=function(){return this.p.value.trim().replace(/\xa0/g," ")},n.prototype.zo=function(){var t=this._s(),i=this.No;return t&&i&&i.So===n.ls&&(i.si|=2,t=i.So(t),i.si&=-3),t},n.prototype.Ao=function(t){return t!==this._s()},n.ls=function(t){var n,i,s,e,r=this.cs;if(r.indexOf("lower")>=0?t=t.toUpperCase().toLowerCase():r.indexOf("upper")>=0&&(t=t.toLowerCase().toUpperCase()),t=t.normalize(),r.indexOf("chars")<0||2&this.si&&!(1&this.si))return t;for(n="",i=0,s=t.replace(/\s/g,"");i<s.length;i++)n.includes(e=s[i])||(n+=e);return n},n})(S),M=(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return y(n,t),n.prototype.zo=function(){var n=t.prototype.zo.call(this);return n||(n=N.rn[this.fo],this.bo(n,true)),n},n})(B),V=(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return y(n,t),n.prototype.ps=function(t){var n=this.p instanceof HTMLInputElement,i=JSON.stringify(t,null,n?1:2);return n?i.replace(/(,?)\n\s*/g,function(t,n){return n?", ":""}):i},n.prototype.bo=function(n,i){t.prototype.bo.call(this,this.ps(n),i)},n.prototype.Ao=function(t){return this.ps(t)!==this._s()},n.prototype.zo=function(){var n=t.prototype.zo.call(this),i=null;if(n)try{i=JSON.parse(n)}catch(t){}else i=N.rn[this.fo],this.bo(i,true);return i},n})(B),F=(function(t){function n(n,i){var s=t.call(this,n,i)||this;return s.gs=true,x(function(){s.p.classList.add("masked")}),s.ds=s.Os.bind(s),s.p.addEventListener("focus",s.ds),s}return y(n,t),n.prototype.Os=function(){this.ds&&(this.p.removeEventListener("focus",this.ds),this.p.classList.remove("masked"),this.ds=null,this.gs=false,this.p.removeAttribute("placeholder"),this.ko())},n.prototype.bo=function(n,i){if(this.gs){var e=this.p.dataset.mask||"";(e=s(e||"clickToUnmask")||e)&&(this.p.placeholder=e)}else t.prototype.bo.call(this,n,i)},n.prototype.zo=function(){return this.gs?this.ho:t.prototype.zo.call(this)},n})(B),B.prototype.rs=T.prototype.rs=function(t,n,i){var s=false;n&&(this.vs=true,(s=document.activeElement!==this.p)&&this.p.focus(),document.execCommand("undo")),this.vs=i,this.p.select(),document.execCommand("insertText",false,t),s&&this.p.blur(),this.vs=false},B.prototype.bs=function(t,n,i){var s,e,r,o,u;null!=i||(i=!!t),r=(e=this.p).classList,o=e.parentElement,u=(u=(s=this.p).nextElementSibling)&&u.classList.contains("tip")?u:null,x(function(){i?(null==u&&((u=document.createElement("div")).className="tip",o.insertBefore(u,s.nextElementSibling)),u.textContent=t,null!==n&&r.add(n||"has-error")):(r.remove("has-error"),r.remove("highlight"),u&&u.remove())})},V.prototype.Lo=S.$o,_.prototype.Eo=function(n){var i,s,e,r,o,u;if(this._r.length===n)for(i=t("#exclusionToolbar"),s=p("[data-model]",i),i.style.visibility=n?"":"hidden",e=0,r=s.length;e<r;e++)(u=(o=S.Uu[s[e].id]).p.parentNode.style).visibility=n||o.wo?"":"visible",u.display=!n&&o.wo?"none":""},z=t("#saveOptions"),A=t("#exportButton"),D=(function(){var t,n,i,e=false;return U=function(t){return e=null!=t?t:e},t=function(){this.vs||((this.wo=this.Lo(this.zo(),this.ho))?e&&!S.ts()&&(z.disabled=true,z.firstChild.data=s("o115"),A.disabled=false,U(false),window.onbeforeunload=null):e||(window.onbeforeunload=function(){return s("beforeUnload")},U(true),z.disabled=false,z.firstChild.data=s("o115_2"),A.disabled=true))},n={Number:T,Boolean:E,Text:B,NonEmptyText:M,JSON:V,MaskedText:F,ExclusionRules:_},i=function(i){var s=new(0,n[i.dataset.model])(i,t);return s.ko(),S.Uu[s.fo]=s},[].forEach.call(p("[data-model]"),i),i})(),S.Uu.exclusionRules.Co=function(){var t=this,n=t.jo;n.ondragstart=function(n){(t.ms=n.target).style.opacity="0.5"},n.ondragend=function(){var n=t.ms;t.ms=null,n&&(n.style.opacity="")},n.ondragover=function(t){t.preventDefault()},n.ondrop=function(n){var i,s,e,r,o;n.preventDefault(),i=t.ms,s=(s=n.target).closest(".exclusionRule"),i&&s&&i!==s&&(t.jo.insertBefore(i,s),e=t._r,r=i.querySelector(".pattern").vnode,o=s.querySelector(".pattern").vnode,e.splice(e.indexOf(r),1),e.splice(e.indexOf(o),0,r),t.vo())}},S.Uu.keyMappings.xo=function(){var t,n,i=u.c,e=i.io,r=e?(function(t){var n,i,s,e,r=t.length>1?"Errors:\n":"Error: ";for(s=0,e=t;s<e.length;s++)n=0,r+=(i=e[s])[0].replace(/%([a-z])/g,function(t,s){return++n,"c"===s?"":"s"===s||"d"===s?i[n]:JSON.stringify(i[n])}),n+1<i.length&&(r+=" "+i.slice(n+1).map(function(t){return"object"==typeof t&&t?JSON.stringify(t):t}).join(" ")+".\n");return r})(e):"";N.Ze.l&&!r&&(t=Object.keys(i.ut).join(""),t+=(n=i.dt)?Object.keys(n).join(""):"",/[^ -\xff]/.test(t))?this.bs(s("ignoredNonEN"),null):this.bs(r)},G=S.Uu.linkHintCharacters,H=S.Uu.linkHintNumbers,L=S.Uu.filterLinkHints,G.xo=H.xo=function(){this.bs(!this.p.style.display&&this.ho.length<4?s("96"):"")},L.xo=function(){x(function(t){var n=L.zo();t.style.display=H.p.style.display=n?"":"none",G.p.style.display=n?"none":"",G.xo(),H.xo()},t("#waitForEnterBox"))},S.Uu.ignoreKeyboardLayout.xo=function(){var n=this;x(function(t){t.style.display=n.zo()?"none":""},t("#ignoreCapsLockBox"))},S.Uu.vomnibarPage.xo=function(){var t=this.p,n=this.ho,i=n.startsWith(location.protocol)||n.startsWith("front/");if(R<50)return x(function(){t.style.textDecoration=i?"":"line-through"}),this.bs(n===N.rn.vomnibarPage?"":s("onlyExtVomnibar",[50]),null);if(n=N.ce.vomnibarPage_f||n,i);else{if(n.startsWith("file:"))return this.bs(s("fileVomnibar"),"highlight");if(/^http:\/\/(?!localhost[:/])/i.test(n))return this.bs(s("httpVomnibar"),"highlight")}return this.bs("")},S.Uu.newTabUrl.No={si:0,So:function(t){var n=/^\/?pages\/[a-z]+.html\b/i.test(t)?chrome.runtime.getURL(t):u.r.V(t.toLowerCase());return n=n.split("?",1)[0].split("#",1)[0],t.startsWith("http")||!N.q.has(n)&&!/^(?!http|ftp)[a-z\-]+:\/?\/?newtab\b\/?/i.test(t)?t:N.rn.newTabUrl}},S.Uu.autoDarkMode.xo=function(){document.documentElement.classList.toggle("auto-dark",this.ho)};S.Uu.autoReduceMotion.xo=function(){document.documentElement.classList.toggle("less-motion",this.ho)},S.Uu.userDefinedCss.xo=function(){window.VApi&&VApi.z&&this.p.classList.contains("debugging")&&setTimeout(function(){var t,n,i,s,e,r=VApi.y().r,o=p("iframe",r);for(t=0,n=o.length;t<n;t++)s=(i=o[t]).classList.contains("HUD"),(e=i.contentDocument.querySelector("style.debugged"))&&(s?e.remove():e.classList.remove("debugged"));S.Uu.userDefinedCss.p.classList.remove("debugging")},500)};